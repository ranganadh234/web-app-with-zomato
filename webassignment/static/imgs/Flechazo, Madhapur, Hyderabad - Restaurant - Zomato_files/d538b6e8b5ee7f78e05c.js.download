webpackJsonp([14],{2:function(e,t){e.exports=React},15:function(e,t){e.exports=ReactDOM},197:function(e,t,a){"use strict";var r=a(2),n=a(15),i=a(215),m=a(216),s=a(211);e.exports=function(e){e.forEach(function(e){var t=e.review_id;n.render(r.createElement(i,{data:e}),document.getElementById("restaurant_review_actions_"+t)),n.render(r.createElement(m,{data:e}),document.getElementById("restaurant_review_comment_thread_"+t)),n.render(r.createElement(s,{data:e}),document.getElementById("restaurant_review_owner_comment_thread_"+t))}),window.initiateLaziness&&window.initiateLaziness()}},210:function(e,t,a){"use strict";var r=a(213),n=a(214),i=function(e){var t="https://b.zmtcdn.com/";return t+e},m=window.HOST||window.location.origin+"/";e.exports={getCDN:i,striptags:n,HOST:m,nl2br:r}},211:function(e,t,a){"use strict";var r=a(2),n=a(212),i=a(210),m=i.getCDN,s=r.createClass({displayName:"ReviewOwnerCommentThread",render:function(){var e=this,t=this.props.data,a=t.replies,i=t.logged_in_user_is_owner,s=t.remaining_replies_count,l=t.review_id,c=t.fetched_replies_count,o=t.remaining_comments_owner_text,_=t.logged_in_user_id,d=t.review_user_id,p=t.review_restaurant_name_text,u=t.use_textarea_class,v=t.textarea_class;if(a.length<=0&&!i)return null;var f,w=window.translations.zm_review_owner_comment_thread_send;s&&s>0&&(f=r.createElement("div",{className:"load_more_review_replies_container mbot0 mtop0"},r.createElement("a",{href:"#",className:"js_load_more_review_replies nhu zred"},o),r.createElement("span",{className:"load_review_more_replies_img hidden"},r.createElement("img",{src:m("images/floading.gif")}))));var h;if(_==d||i){var E;i&&(E=r.createElement("b",null,p)),h=r.createElement("div",{className:"zblack mtop0"},E,r.createElement("div",{className:"ui form mt5"},r.createElement("div",{className:"field"},r.createElement("textarea",{className:(u?v:"")+"review-replies-new-textbox mr5",placeholder:w,rows:"1"})),r.createElement("a",{href:"#",className:"ui basic compact button review-replies-new-submit"},r.createElement("span",{className:"default-text zblack"},w))))}var g=a.map(function(t,a){return r.createElement(n,{key:a,comment:t,data:e.props.data})});return r.createElement("div",{id:"rrtr-"+{review_id:l},className:"plr15 pt0 pb5 brbot review-replies-thread-root clearfix ui secondary segment remove-segment-border","data-remaining_replies_count":s,"data-review_id":l,"data-fetched_replies_count":c},r.createElement("div",{className:"ui comments mb0",style:{maxWidth:"100%"}},f,r.createElement("div",{className:"review-replies-container mtop"},g,h)),r.createElement("div",{className:"hidden mtop0 review-replies-error error-message-highlight"}))}});e.exports=s},212:function(e,t,a){"use strict";var r=a(2),n=a(210),i=n.getCDN,m=n.nl2br,s=r.createClass({displayName:"ReviewReply",render:function(){var e=this.props.comment;if(!e.active_flag)return null;var t,a,n,s,l=window.translations,c=l.zm_review_replies_item_resp_was_removed,o=l.zm_review_replies_item_remove,_=l.zm_review_replies_item_hide,d=l.zm_review_replies_item_are_you_sure,p=l.zm_review_replies_item_yes,u=l.zm_review_replies_item_no,v=this.props.data,f=v.review_user_id,w=v.user_img_src,h=v.user_img_alt,E=v.res_url,g=v.res_img,N=v.review_restaurant_name,b=v.user_name,y=v.is_moderator,z=v.logged_in_user_id;if(e.admin_removed&&(t=r.createElement("a",{href:"#",classname:"grey-text show-removed-reply textPopup","data-html":c,dangerouslySetInnerHTML:{__html:c}})),a=e.comment_user_id==f?r.createElement("a",{className:"avatar"},r.createElement("img",{src:i("images/placeholder_200.png"),className:"lazy-inv-image round_avatar","data-original":w,alt:h})):r.createElement("a",{href:E,className:"avatar mt0"},r.createElement("img",{src:i("images/placeholder_200.png"),className:"lazy-inv-image ui rounded mini image",style:{minHeight:"35px"},"data-original":g,alt:N})),n=e.comment_user_id==f?r.createElement("div",{className:"author",dangerouslySetInnerHTML:{__html:b}}):r.createElement("div",{className:"author"},N),y&&e.comment_user_id!=z){var k,x;k=e.admin_removed?r.createElement("span",{className:"default-text"},o):r.createElement("span",{className:"default-text"},_),x=e.admin_removed?r.createElement("a",{href:"#",className:"default-text review-reply-delete comment-delete-option zred","data-remove":"1"},p):r.createElement("a",{href:"#",className:"default-text review-reply-inapt comment-delete-option zred","data-inapt":"1"},p),s=r.createElement("span",{className:"review-delete-comment-container"},r.createElement("a",{href:"#",className:"review-comment-admin grey-text"}),k,r.createElement("span",{className:"confirm-delete ptop hidden zblack"},d,"  "),x,"·",r.createElement("a",{href:"#",className:"comment-delete-option zred","data-option":"no"},u))}return r.createElement("div",{id:"rr-"+e.comment_id,"data-comment_id":e.comment_id,className:"review-replies-item comment"},t,a,r.createElement("div",{tabindex:"0",className:"review-reply-text zblack content "+(e.admin_removed?"hidden":"")},n,r.createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:m(e.comment)}})),r.createElement("div",{className:"review-replies-links fontsize5"},s))}});e.exports=s},213:function(e,t){"use strict";e.exports=function(e,t){var a=t||"undefined"==typeof t?"<br />":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+a+"$2")}},214:function(e,t,a){var r,n,i;!function(a,m){n=[],r=m,i="function"==typeof r?r.apply(t,n):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(e,s){function l(e){p==a?v+=e:s&&p==r&&(f+=e)}function c(){var e,t,a,r="",n=!1;e:for(e=0,t=f.length;e<t;e++)switch(a=f[e].toLowerCase()){case"<":break;case">":break e;case"/":n=!0;break;default:if(a.match(m)){if(n)break e}else n=!0,r+=a}s.indexOf(r)!==-1&&(v+=f),f=""}var o,_,d,e=e||"",p=a,u=0,v="",f="",w=!1;for("string"==typeof s?s=t(s):Array.isArray(s)||(s=null),o=0,_=e.length;o<_;o++)switch(d=e[o]){case"<":if(w)break;if(" "==e[o+1]){l(d);break}if(p==a){p=r,l(d);break}if(p==r){u++;break}l(d);break;case">":if(u){u--;break}if(w)break;if(p==r){w=p=0,s&&(f+=">",c());break}if(p==n){w=p=0,f="";break}if(p==i&&"-"==e[o-1]&&"-"==e[o-2]){w=p=0,f="";break}l(d);break;case'"':case"'":p==r&&(w==d?w=!1:w||(w=d)),l(d);break;case"!":if(p==r&&"<"==e[o-1]){p=n;break}l(d);break;case"-":if(p==n&&"-"==e[o-1]&&"!"==e[o-2]){p=i;break}l(d);break;case"E":case"e":if(p==n&&"doctype"==e.substr(o-6,7).toLowerCase()){p=r;break}l(d);break;default:l(d)}return v}function t(e){for(var t,a=[];null!==(t=s.exec(e));)a.push(t[1]);return 0!==a.length?a:null}var a=0,r=1,n=2,i=3,m=/\s/,s=/<(\w*)>/g;return e})},215:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=a(2),i=n.createClass({displayName:"ReviewActions",renderPublishBlogPostBtn:function(){var e=this.props.data,t=e.logged_in_user_id,a=e.user_id,r=e.review_type,i=e.blog_displayed_flag,m=e.blog_approved_flag;if(t==a&&"BLOG_POST"==r&&i&&!m){var s=window.translations.zm_blog_post_rate_publish_link,l=this.props.data.review_id;return n.createElement("a",{className:"compact ui button left js-btn-publish","aria-label":s,href:"#","data-entity-id":l,"data-entity-type":"BLOG_POST"},s)}return null},renderActions:function(){var e=this.props.data,t=e.review_type,a=e.blog_displayed_flag,i=e.blog_approved_flag;if("BLOG_POST"!=t||a&&i){var m,s,l,c,o="compact ui tiny button",_="",d=0,p=this.props.data,u=p.is_liked,v=p.review_id,f=p.total_likes,w=p.review_thanks_count,h=p.review_comments_count,E=p.upvotes,g=window.translations,N=g.zm_review_actions_comment,b=g.zm_review_actions_comments,y=g.zm_review_actions_thank,z=g.zm_review_actions_thanked,k=g.zm_review_actions_thanks;return 0==E&&(_="zero-likes"),u?(l=z,s="undo",o+=" red",c="ui basic red label stats-thanks js-thank-count js-activity-like-count"+_):(l=y,s="like",c="ui basic label stats-thanks js-thank-count js-activity-like-count "+_),f&&f>0?d=f:w&&w>0&&(d=w),n.createElement("div",null,n.createElement("div",(m={className:"left mr5 ui tiny labeled button js-btn-thank","data-active":"1","data-action":s,"data-likes":d},r(m,"data-active","1"),r(m,"data-reviewid",v),r(m,"aria-label",y),m),n.createElement("div",{className:o,"data-icon":"f"},n.createElement("span",null,l)),n.createElement("div",{className:c,"data-action_id":v,"data-action_type":"REVIEW","aria-label":E+" "+k},E)),n.createElement("div",{className:"left ui tiny labeled button comment-btn-to"},n.createElement("div",{className:"compact ui tiny button","data-icon":"÷"},N),n.createElement("div",{className:"ui basic label stats-comment","aria-label":h+" "+b},h)))}return null},renderModeratorReviewId:function(){var e=this.props.data,t=e.is_moderator,a=e.review_id;return t?n.createElement("div",{className:"pbot0"},n.createElement("span",{className:"left"},a," ")):null},renderBase:function(){var e,t,a,r,i=this.props.data,m=i.review_id,s=i.review_type,l=i.blog_displayed_flag,c=i.blog_approved_flag,o=i.review_user_id,_=i.logged_in_user_id,d=i.logged_in,p=i.show_report_message,u=i.logged_in_user_reported,v=window.translations,f=v.zm_review_contest_you_already_have_report,w=v.zm_review_user_edit_link_title,h=v.zm_review_user_delete_link_title,E=v.zm_review_contest_reported,g=v.zm_review_contest_report_this_review,N=v.zm_review_contest_report,b=v.zm_photo_viewer_share,y=v.zm_review_actions_share,z=v.zm_review_user_delete_link;return _&&o==_?(("BLOG_POST"!=s||l&&c)&&(t=n.createElement("div",{class:" left"},n.createElement("a",{href:"#",className:"compact ui small button res-review-edit","aria-label":w,title:w},w))),a=n.createElement("a",{href:"#","aria-label":h,className:"compact ui small button left res-review-delete",title:h},z)):d&&p&&(r=u?n.createElement("span",{tabindex:"0","aria-label":f,title:f,className:"tooltip res-review-reported"},E):n.createElement("a",{"aria-label":g,title:g,href:"#",className:"tooltip res-review-report","data-user_id":_},N)),("BLOG_POST"!=s||l&&c)&&(e=n.createElement("button",{className:"ui button compact js-btn-share small","aria-label":y,"data-entity-id":m,"data-entity-type":"REVIEW","data-icon":"ß"},b)),n.createElement("div",{className:"right clearfix"},n.createElement("div",{className:" left res-review-top-right-text"},t,a,r,e))},render:function(){return n.createElement("div",null,this.renderActions(),this.renderPublishBlogPostBtn(),this.renderBase(),this.renderModeratorReviewId())}});e.exports=i},216:function(e,t,a){"use strict";var r=a(2),n=a(210),i=n.getCDN,m=n.HOST,s=a(217),l=r.createClass({displayName:"LoadMore",render:function(){var e=this.props,t=e.remaining_comments_count,a=e.remaining_comments_text;return 0==t?null:r.createElement("div",{className:"load_more_review_comments_container pt5"},r.createElement("a",{href:"#",className:"js_load_more_review_comments nhu"},r.createElement("span",{className:"load_review_more_comments_text zred"},a),r.createElement("div",{className:"ui small inline loader load_review_more_comments_img hidden"})))}}),c=r.createClass({displayName:"ReviewCommentThread",render:function(){var e,t=this,a=this.props.data,n=a.for_dashboard,c=a.review_id,o=a.fetched_comments_count,_=a.remaining_comments_count,d=a.remaining_comments_text,p=a.no_comments_flag,u=a.logged_user_avatar,v=a.username,f=a.logged_in_user_type,w=a.use_class,h=a.textarea_class,E=a.comments,g=window.translations,N=g.zm_user_profile_zomato_verified_user_title,b=g.zm_user_profile_zomato_verified_user_desc,y=g.zm_user_profile_zomato_celebrity_user_title,z=g.zm_user_profile_zomato_celebrity_user_desc,k=g.zm_review_comment_thread_write_comment,x=g.zm_review_comment_thread_submit,C="review_comments_container mb0 mt0";if(n||!E)return null;var j=E.map(function(e,a){return r.createElement(s,{key:a,comment:e,data:t.props.data})});if(E.length>0&&(C="ui comments ptop0 pbot0 "+C),!p&&!n){var I;"VERIFIED"==f?I=r.createElement("a",{href:m+"verified",target:"_blank","data-icon":"ñ","data-variation":"inverted tiny",className:"verified-profile-small","data-title":N,"data-content":b}):"CELEBRITY"==f&&(I=r.createElement("a",{href:m+"verified",target:"_blank","data-icon":"ñ",className:"verified-profile-small celebrity-profile","data-variation":"inverted tiny","data-title":y,"data-content":z})),e=r.createElement("div",{className:"bt ui comments mt0 pbot0 ptop0",style:{maxWidth:"100%"}},r.createElement("div",{className:"comment"},r.createElement("a",{className:"avatar"},r.createElement("img",{"data-original":u.thumb_200,className:"lazy round_avatar",alt:v,src:i("images/placeholder_200.png")})),I,r.createElement("div",{className:"content"},r.createElement("div",{className:"js_review_comment_right review-comment-right dimmer-comment-box pl0i"},r.createElement("div",{"aria-label":k,contentEditable:"true",id:"review-comment-"+c,className:w?h+" js_review_comment review-comment-textbox":"js_review_comment review-comment-textbox","data-placeholder":k}),r.createElement("div",{className:"ui inverted dimmer"},r.createElement("div",{className:"ui loader"})),r.createElement("a",{href:"#",className:"btn btn-inline review-comment-submit hidden-i hidden","data-active":"1"},r.createElement("span",{className:"default-text"},x),r.createElement("span",{className:"loading-text"})),r.createElement("div",{className:"tag-suggestions-container"})))))}return r.createElement("div",{id:"rcr-"+c,className:"js_review_comments_root plr15 ui secondary segment remove-segment-border pt0 pb0","data-fetched_comments_count":o,"data-review_id":c,"data-remaining_comments_count":_},r.createElement(l,{remaining_comments_count:_,remaining_comments_text:d}),r.createElement("div",{className:C,"data-review_id":c,style:{maxWidth:"100%"}},j),e)}});e.exports=c},217:function(e,t,a){"use strict";var r=a(2),n=a(210),i=n.striptags,m=n.getCDN,s=n.HOST,l=r.createClass({displayName:"ModeratorContent",render:function(){var e=this.props.data.review_moderator;if(!e)return null;var t,a,n=window.translations,i=n.zm_review_comment_item_remove,s=n.zm_review_comment_item_restore,l=n.zm_review_replies_item_are_you_sure,c=n.zm_review_replies_item_yes,o=n.zm_review_replies_item_no,_=this.props.comment.admin_removed;return t=_?s:i,a=_?r.createElement("a",{href:"#",className:"default-text review-comment-inapt comment-delete-option mr0 zred","data-inapt":"0"},r.createElement("span",{className:"zred"},c)):r.createElement("a",{href:"#",className:"default-text review-comment-inapt comment-delete-option mr0","data-inapt":"1"},r.createElement("span",{className:"zred"},c)),r.createElement("span",{className:"review-delete-comment-container"},r.createElement("img",{src:m("images/floading.gif"),className:"hidden loading-img mt2"})," · ",r.createElement("a",{href:"#",className:"review-comment-admin"},r.createElement("span",{className:"default-text"},t)),r.createElement("span",{className:"confirm-delete ptop hidden"},l,"   ",a," · ",r.createElement("a",{href:"#",className:"comment-delete-option","data-option":"no"},r.createElement("span",{className:"zred"},o))))}}),c=r.createClass({displayName:"DeleteContent",render:function(){var e=this.props.data,t=e.review_moderator,a=e.logged_in_user_id,n=e.review_user_id,i=e.for_history,m=window.translations,s=m.zm_review_comment_item_delete,l=m.zm_review_replies_item_are_you_sure,c=m.zm_review_replies_item_yes,o=m.zm_review_replies_item_no,_=this.props.comment;return!t&&_.comment_user_id!=a&&n!=a||i?null:r.createElement("span",{className:"review-delete-comment-container"}," · ",r.createElement("a",{href:"#",className:"review-comment-delete-submit mr0"},r.createElement("span",{className:"default-text"},s)),r.createElement("span",{className:"confirm-delete ptop hidden"},"  ",l," ",r.createElement("a",{href:"#",className:"comment-delete-option mr0","data-option":"yes"},r.createElement("span",{className:"zred"},c))," · ",r.createElement("a",{href:"#",className:"comment-delete-option","data-option":"no"},r.createElement("span",{className:"zred"},o),"  ")))}}),o=r.createClass({displayName:"ReportComment",render:function(){var e,t=window.translations,a=t.zm_review_comment_item_report,n=t.zm_review_comment_item_reported,i=t.zm_review_replies_item_are_you_sure,s=t.zm_review_replies_item_yes,l=t.zm_review_replies_item_no,c=this.props.comment;return e=0==c.reported?r.createElement("a",{href:"#",className:"review-comment-report-submit mr0","data-comment-id":c.comment_id},r.createElement("span",{className:"default-text"},a)):r.createElement("span",{className:"reported-comment mr0",style:{color:"rgba(0,0,0,.4)"}},r.createElement("span",{className:"default-text",tabindex:"0"},n)),r.createElement("span",{className:"report"},r.createElement("img",{src:m("images/floading.gif"),className:"hidden loading-img mt2"}),e,r.createElement("span",{className:"reported-comment hidden mr0","data-comment-id":c.comment_id,style:{color:"rgba(0,0,0,.4)"}},r.createElement("span",{className:"default-text"},n)),r.createElement("span",{className:"confirm-report ptop hidden "}," ",i," ",r.createElement("a",{href:"#",className:"comment-report-option mr0","data-option":"yes"},r.createElement("span",{className:"zred"},s))," ·",r.createElement("a",{href:"#",className:"comment-report-option","data-option":"no"},r.createElement("span",{className:"zred"},l))))}}),_=r.createClass({displayName:"ReviewComment",render:function(){var e=this.props.comment,t=window.translations,a=t.zm_user_profile_zomato_verified_user_desc,n=t.zm_user_profile_zomato_verified_user_title,_=t.zm_review_comment_item_edit,d=t.zm_user_profile_zomato_celebrity_user_title,p=t.zm_user_profile_zomato_celebrity_user_desc,u=t.zm_review_snippet_comment,v=t.zm_review_comment_item_comment_was_removed,f=t.zm_review_comment_item_read_more,w=t.zm_review_comment_item_history,h=t.zm_review_snippet_unthank,E=t.zm_review_snippet_thank,g=t.zm_review_actions_thanks,N=this.props.data,b=N.logged_in_user_id,y=N.for_history,z=N.review_moderator,k=N.followed_user,x=e.admin_removed;if(!e)return null;var C,j,I,T,L,O,R="rc-"+e.comment_id,B="review_comment_text",S=s+"verified",H=s+"celebrity";if(k&&"VERIFIED"==k.u.user_type?C=r.createElement("a",{href:S,target:"_blank","data-icon":"ñ","data-variation":"inverted tiny",className:"verified-profile-small","data-title":n,"data-content":a}):k&&"CELEBRITY"==k.u.user_type&&(C=r.createElement("a",{href:H,target:"_blank","data-icon":"ñ","data-variation":"inverted tiny",className:"verified-profile-small celebrity-profile","data-title":d,"data-content":p})),x&&(j=r.createElement("a",{href:"#",className:"grey-text show-removed-comment textPopup","data-html":v},v),B="review_comment_text hidden"),I=e.comment_sm?r.createElement("span",{tabindex:"0","aria-label":i(e.comment),className:B,"data-text":e.comment,"data-tags":e.tagged_struct_array_json},r.createElement("span",{className:"review-comment-small",dangerouslySetInnerHTML:{__html:e.comment_sm}}),r.createElement("span",{className:"review-comment-more hidden",dangerouslySetInnerHTML:{__html:e.comment}}),r.createElement("a",{href:"#",className:"review-comment-read-more zred"},f),");"):r.createElement("span",{tabindex:"0","aria-label":i(e.comment),className:B,"data-text":e.comment,dangerouslySetInnerHTML:{__html:e.comment},"data-tags":e.tagged_struct_array_json}),(e.comment_user_id==b&&!y||z)&&(T=r.createElement("span",null," · ",r.createElement("a",{href:"#",className:"js_review_comment_edit mr0"},_))),e.edits_count>0&&(e.comment_user_id==b&&!y||z)&&(L=r.createElement("span",null," · ",r.createElement("a",{href:"#",className:"js_review_comment_history mr0"},w))),!y){var M;M=e.liked_by_user?r.createElement("a",{href:"#",className:"js_activity_comment_like mr0","data-action":"unlike","data-active":"0"},h):r.createElement("a",{href:"#",className:"js_activity_comment_like mr0","data-action":"like","data-active":"0"},E);var P;P=e.likes_count&&e.likes_count>0?"js_activity_comment_like_wrap":"js_activity_comment_like_wrap hidden",O=r.createElement("span",null," · ",M,r.createElement("span",{className:P}," ",r.createElement("a",{"aria-label":e.likes_count+" "+g,href:"#",className:"js_activity_comment_like_count","data-icon":"f","data-active":"0"},e.likes_count)))}return r.createElement("div",{id:R,"data-comment_id":e.comment_id,className:"comment review_comment_item pt0"},r.createElement("a",{href:e.user_profile_url,className:"avatar mt0"},r.createElement("img",{src:m("images/placeholder_200.png"),className:"lazy-inv-image round_avatar","data-original":e.user_thumb_url,alt:e.comment_user_name})),C,r.createElement("div",{className:"js_review_comment_right content"},r.createElement("a",{"aria-label":i(e.comment_user_name)+" "+u,href:e.user_profile_url,"data-entity_id":e.comment_user_id,className:"author",dangerouslySetInnerHTML:{__html:e.comment_user_name}}),r.createElement("div",{className:"metadata"},r.createElement("div",{className:"date"},e.friendly_time)),j,r.createElement("div",{className:"text"},I),r.createElement("div",{className:"actions"},r.createElement(o,this.props),T,L,O,r.createElement(c,this.props),r.createElement(l,this.props))),r.createElement("div",{className:"ui inverted dimmer",style:{backgroundColor:"rgba(255,255,255,.15)"}},r.createElement("div",{className:"ui loader"})))}});e.exports=_}});